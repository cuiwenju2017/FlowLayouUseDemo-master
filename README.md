# FlowLayouUseDemo
<body spellcheck="0" class="editMode htmledit_views">Android  本地历史记录、及产品标签（支持单选、多选）实现（使用鸿洋大神的FlowLayout开源库），主要功能：FlowLayout的使用、从SP中读取历史记录、将历史记录写入到SP中、历史记录最大数量限制、历史记录不可重复、最新查询的在最前边、清楚历史记录；FlowLayout预先设置选中、设置最大选中数、设置标签点击和选中监听、获取选中的标签、通过selecter完成标签选择的切换等。<br>项目博客地址：https://blog.csdn.net/qq941263013/article/details/81223574<br>个人博客地址：https://blog.csdn.net/qq941263013<br>本地历史记录的GIF效果图：<br><img src="https://github.com/wangyang0313/FlowLayouUseDemo/blob/master/app/%E6%9C%AC%E5%9C%B0%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95.gif" _xhe_src="https://github.com/wangyang0313/FlowLayouUseDemo/blob/master/app/%E6%9C%AC%E5%9C%B0%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95.gif"><br><br>产品标签（单选、多选）GIF效果图：<br><img src="https://github.com/wangyang0313/FlowLayouUseDemo/blob/master/app/%E4%BA%A7%E5%93%81%E6%A0%87%E7%AD%BE.gif" _xhe_src="https://github.com/wangyang0313/FlowLayouUseDemo/blob/master/app/%E4%BA%A7%E5%93%81%E6%A0%87%E7%AD%BE.gif"><br><br>本地历史记录功能的简单说明（详细描述见博客、源码）：<br>&nbsp; &nbsp; 1.页面布局：主要是在布局文件中使用TagFlowLayout实现流失布局，并通过自定义属性（zhy:max_select="0"）规定标签的最大可选数。<br>&nbsp; &nbsp; 2.定义从SP中读取历史记录方法：从SP中获取存储的字符串，并通过wy标识将字符串分割为字符串数组，然后添加到List中，最后将list返回。<br>&nbsp; &nbsp; 3.定义将历史记录写入到SP中方法：先判空，不为空则获取已有的历史记录，再将新的历史记录添加list中，最后把list转换成字符串（添加wy标识）存入到SP中。需要注意的是：1.历史记录最大数量限制，2.历史记录不可重复，3.最新查询的在最前边。<br>&nbsp; &nbsp; 4.初始化历史记录：先通过本地历史记录判断页面的显示与隐藏，在为FlowLayout填充数据、设置点击事件监听。<br>&nbsp; &nbsp; 5.点击搜索按钮：首先获取输入框中的内容，然后添加到本地历史记录中，最后再调用initHistory()刷新页面数据。具体的搜索逻辑就不写了，不是重点。<br>&nbsp; &nbsp; 6.清除历史记录：将本地历史记录置为空字符串，再调用initHistory()刷新页面数据即可，大功告成。</body>

